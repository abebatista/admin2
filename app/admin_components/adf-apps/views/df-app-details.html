<div>

    <!-- Form Title -->
    <df-details-header data-new="newApp" data-api-name="'Application'" data-name="app.record.name"></df-details-header>


    <!-- Create Application Form -->
    <form name="create-application" data-ng-submit="saveApp()">
        <div>
            <div class="row">
                <div class="col-md-6">
                    <!-- Application Name -->
                    <div class="form-group">
                        <label>Application API Name </label><df-simple-help data-options="dfHelp.applicationName"></df-simple-help>
                        <input class="form-control" type="text" data-ng-model="app.record.api_name" placeholder="Enter Application API Name" data-ng-required="true"/>
                    </div>

                    <div class="form-group">
                        <label>Display Name</label><df-simple-help data-options="dfHelp.displayName"></df-simple-help>
                        <input class="form-control" type="text" data-ng-model="app.record.name" placeholder="Enter Display Name" data-ng-required="true"/>
                    </div>

                    <div class="form-group">
                        <label>Description</label><df-simple-help data-options="dfHelp.description"></df-simple-help>
                        <input class="form-control" type="text" data-ng-model="app.record.description" placeholder="Enter Description"/>
                    </div>

                    <hr />

                    <!-- Application Location -->
                    <div class="form-group">
                        <label>Where will this app live</label><df-simple-help data-options="dfHelp.appLocation"></df-simple-help>
                        <div class="radio" data-ng-repeat="location in locations">
                            <label>
                                <input type="radio" data-ng-model="app.record.is_url_external" value="{{location.value}}">
                                {{location.label}}
                            </label>
                        </div>
                    </div>

                    <hr />

                    <!-- Application Storage Service -->
                    <div data-ng-if="app.record.is_url_external == 0">
                        <!--<df-simple-help data-options="dfHelp.storageAndLaunchpad"></df-simple-help> -->
                        <div class="form-group">
                            <label>Storage Service</label><df-simple-help data-options="dfHelp.storageService"></df-simple-help>
                            <select class="form-control" data-ng-model="app.record.storage_service_id" data-ng-options="service.id as service.name for service in storageServices"></select>
                        </div>

                        <div class="form-group">
                            <label>Storage Container</label><df-simple-help data-options="dfHelp.storageContainer"></df-simple-help>
                            <select class="form-control" data-ng-model="app.record.storage_container" data-ng-options="value as value for value in storageContainers"></select>
                        </div>

                        <div class="form-group">
                            <label>Default Path</label><df-simple-help data-options="dfHelp.defaultPath"></df-simple-help>
                            <input class="form-control" type="text" data-ng-model="app.record.url" placeholder="Enter Default file to load." />
                        </div>

                        <hr />
                    </div>

                    <!-- Supply URL -->
                    <div data-ng-if="app.record.is_url_external == 1">
                        <div class="form-group">
                            <label>URL to Application</label><df-simple-help data-options="dfHelp.remoteUrl"></df-simple-help>
                            <input class="form-control" type="text" data-ng-model="app.record.url" placeholder="Enter full URL e.g. http://www.myserver.com" data-ng-required="true"/>
                        </div>

                        <hr />
                    </div>

                    <!-- Your app url -->

                    <div class="form-group" data-ng-if="app.record.is_url_external == 0">
                        <div class="alert alert-info">
                            <p><i class="fa fa-fw fa-cloud">&nbsp;</i>Your URL will be: {{currentServer}}/files{{storageContainers[app.record.storage_service_id].name}}/{{app.record.storage_container}}/{{app.record.api_name}}<span>{{app.record.url}}</span></p>
                        </div>
                    </div>


                </div>


                <div class="col-md-6">
                    <!-- Assign a Role -->
                    <div class="form-group">

                        <label>Assign this App to a Role</label><df-simple-help data-options="dfHelp.assignRole"></df-simple-help>
                        <table class="table table-bordered table-striped ">
                            <tr>
                                <th></th>
                                <th>Role Name</th>
                            </tr>
                            <tr data-ng-repeat="role in roles">
                                <td>
                                    <input type="checkbox" data-ng-checked="role.__dfUI.selected" data-ng-click="_selectRole(role)">
                                </td>
                                <td>
                                    {{role.record.name}}
                                </td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-12">

                <div class="form-group">
                    <div data-ng-if="newApp">
                        <input class="btn btn-default btn-primary" type="submit" value="Create Application" />
                    </div>
                    <div data-ng-if="!newApp">
                        <input class="btn btn-default btn-primary" type="submit" value="Update Application" />
                        <button type="button" class="btn btn-default" data-ng-click="closeApp()">Close</button>
                    </div>
                </div>

            </div>
        </div>
    </form>
</div>